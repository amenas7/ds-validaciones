<section class="p-4">
  <!-- ========== EJEMPLO CON TODAS LAS PROPIEDADES Y VALIDACIÓN DINÁMICA ========== -->
  <div class="mb-5">
    <h2 class="mb-3">Ejemplo con Todas las Propiedades y Validación Dinámica (Formulario Reactivo)</h2>
    <div class="row g-3">
      <div class="col-md-12">
        <form [formGroup]="formCompleto">
          <div class="row g-3">
            <div class="col-md-6">
              <sa-textarea
                label="Textarea Completo (mínimo 10, máximo 500 caracteres)"
                formControlName="textareaCompleto"
                size="lg"
                [status]="textareaStatus"
                placeholder="Escriba un comentario..."
                helperText="Este textarea tiene todas las propiedades configuradas con status dinámico"
                id="textarea-completo"
                name="textareaCompleto"
                [rows]="5"
                resize="vertical"
                [required]="isRequired"
                [disabled]="isDisabled"
                [errorText]="
                  formCompleto.get('textareaCompleto')?.hasError('required')
                    ? 'El campo es requerido'
                    : formCompleto.get('textareaCompleto')?.hasError('minlength')
                    ? 'Mínimo 10 caracteres'
                    : formCompleto.get('textareaCompleto')?.hasError('maxlength')
                    ? 'Máximo 500 caracteres'
                    : ''
                "
                (valueChange)="onValueChange($event)"
                (change)="onChange($event)"
                (focusin)="onFocus($event)"
                (focusout)="onBlur($event)">
              </sa-textarea>
            </div>
            <div class="col-md-6">
              <div class="mt-4">
                <p><strong>Estado del campo:</strong></p>
                <ul class="small">
                  <li>Valor: {{ formCompleto.get('textareaCompleto')?.value || 'vacío' }}</li>
                  <li>Longitud: {{ formCompleto.get('textareaCompleto')?.value?.length || 0 }} caracteres</li>
                  <li>Valid: {{ formCompleto.get('textareaCompleto')?.valid }}</li>
                  <li>Touched: {{ formCompleto.get('textareaCompleto')?.touched }}</li>
                  <li>Status mostrado:
                    <sa-tag
                      [text]="textareaStatus"
                      [type]="
                        textareaStatus === 'error'
                          ? 'danger'
                          : textareaStatus === 'success'
                          ? 'success'
                          : 'secondary'
                      "
                      size="small">
                    </sa-tag>
                  </li>
                </ul>
              </div>
            </div>
          </div>

          <div class="row g-3 mt-2">
            <div class="col-md-12">
              <p><strong>Valor actual:</strong> {{ valorTextareaCompleto }}</p>
              <p><strong>Longitud:</strong> {{ valorTextareaCompleto === 'Ninguno' ? 0 : valorTextareaCompleto.length }} caracteres</p>
              <p><strong>Estado del formulario (mínimo 10 caracteres):</strong> {{ formCompleto.valid ? 'Válido' : 'Inválido' }}</p>
            </div>
          </div>

          <div class="row g-3 mt-2">
            <div class="col-md-12">
              <button class="btn btn-sm btn-outline-primary me-2" (click)="isRequired = !isRequired">
                Toggle Required ({{ isRequired }})
              </button>
              <button class="btn btn-sm btn-outline-info me-2" (click)="isDisabled = !isDisabled">
                Toggle Disabled ({{ isDisabled }})
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

</section>
